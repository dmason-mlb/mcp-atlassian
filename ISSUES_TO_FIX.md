# MCP Atlassian Server - Critical Issues to Fix

**Last Updated:** August 8, 2025  
**Test Report:** See `/Users/douglas.mason/Downloads/MCP_Atlassian_Server_Test_Report.md`

## HIGH PRIORITY ISSUES

### 1. Content Format Compatibility - ADF vs Markdown  
**Error:** "Operation value must be an Atlassian Document (see the Atlassian Document Format)"  
**Affected Tools:** `jira_create_issue` (description field), `jira_add_comment`  
**Impact:** Cannot create issues with descriptions or add comments  
**Fix Required:** Implement automatic markdown-to-ADF conversion or update documentation

### 2. Comment Validation Failure
**Error:** "Comment body is not valid!" when adding comments  
**Impact:** Comment functionality unusable  
**Fix Required:** Fix ADF format validation for comments

### 3. Confluence Operations Complete Failure
**Issue:** All Confluence search and creation operations return empty results or fail  
**Affected Tools:** `confluence_search_search`, `confluence_pages_create_page`, `confluence_search_search_user`  
**Impact:** Confluence functionality completely unusable  
**Fix Required:** Investigate permissions, authentication scope, and API configuration

## MEDIUM PRIORITY ISSUES

### 4. Tool Naming Inconsistency
**Issue:** Documentation shows `confluence_search_user` but actual tool is `confluence_search_search_user`  
**Impact:** User confusion and failed tool calls  
**Fix Required:** Standardize naming or update documentation

### 5. Batch Operations Failure  
**Error:** `jira_batch_get_changelogs` fails with generic error  
**Impact:** Batch operations not working  
**Fix Required:** Debug and fix batch changelog implementation

### 6. Authentication Parameter Issues
**Issue:** `currentUser()` parameter not supported in `jira_get_user_profile`  
**Workaround:** Use email address directly  
**Fix Required:** Support `currentUser()` parameter or update documentation

### 7. Issue Creation Field Population
**Issue:** Summary field not populated during `jira_create_issue`, requires separate update  
**Impact:** Extra API call required for basic issue creation  
**Fix Required:** Ensure all fields are properly set during creation

## LOW PRIORITY ISSUES

### 8. Empty Results for Valid Queries
**Issue:** Various tools return empty arrays when data should exist  
**Affected:** `jira_get_all_projects`, `jira_get_project_versions`, `jira_get_agile_boards`  
**Impact:** Limited functionality due to filtering or permission issues  
**Fix Required:** Investigate filtering configurations and permissions

### 9. Generic Error Messages
**Issue:** Many tools fail with "Error calling tool" without specific details  
**Impact:** Difficult to debug and troubleshoot  
**Fix Required:** Improve error reporting and logging

### 10. Missing Issue Type Support
**Issue:** Bug issue type creation failed, only Task and Story work  
**Impact:** Limited issue type flexibility  
**Fix Required:** Verify all issue types are supported in FTEST project

## DOCUMENTATION ISSUES

### 11. Format Requirements Not Clear
**Issue:** Documentation suggests markdown support but tools require ADF  
**Fix Required:** Update documentation to clearly specify format requirements

### 12. Tool Name Mismatches  
**Issue:** Some tool names in documentation don't match actual implementation  
**Fix Required:** Audit and update all tool names in documentation

### 13. Missing Error Handling Documentation
**Issue:** No guidance on error scenarios and troubleshooting  
**Fix Required:** Add troubleshooting section to documentation

## TESTING GAPS

### 14. Agile Operations Untested
**Issue:** No agile boards available in test environment  
**Fix Required:** Set up proper test environment with agile boards for comprehensive testing

### 15. Advanced Jira Operations Untested
**Issue:** Many write operations couldn't be tested due to prerequisite failures  
**Fix Required:** Fix basic operations first, then test advanced features

---

## Fix Priority Order

1. **Content format compatibility** (fixes issues #1, #2)
2. **Confluence operations** (fixes issue #3)
3. **Tool naming consistency** (fixes issue #4)
4. **Batch operations** (fixes issue #5)
5. **Error handling improvements** (fixes issues #6, #8, #9)
6. **Documentation updates**

## Test Environment Requirements

To properly test fixes:
- Access to FTEST project with all issue types enabled
- Personal Confluence space with proper permissions
- Agile boards configured for sprint testing
- Test data that can be safely created and deleted

---

*Generated by MCP Atlassian Server Testing Framework*

---

Note: Worklog tools (`jira_get_worklog`, `jira_add_worklog`) have been removed from the MCP server and docs; any prior worklog-related issues are obsolete.